# Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"
Поработав с персональным кластером, можно заняться проектами. Вам пришла задача подготовить кластер под новый проект.

## Задание 1: Описать требования к кластеру
Сначала проекту необходимо определить требуемые ресурсы. Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

* База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Кэш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
* Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

## Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

План расчета
1. Сначала сделайте расчет всех необходимых ресурсов.
2. Затем прикиньте количество рабочих нод, которые справятся с такой нагрузкой.
3. Добавьте к полученным цифрам запас, который учитывает выход из строя как минимум одной ноды.
4. Добавьте служебные ресурсы к нодам. Помните, что для разных типов нод требовния к ресурсам разные.
5. Рассчитайте итоговые цифры.
6. В результате должно быть указано количество нод и их параметры.

***

Требования к к k8s:
Для отказоустойчивости требуется мнимум 3 мастер-ноды и исходя их кол-ва реплик оптимально сделать 5 worker node.

Для каждой master-node требуется cpu – 2 ядра, ОЗУ – 2 Гб, HDD – 50Гб
Итого: т.к. нужно 3 ВМ, то cpu – 6 ядра, ОЗУ – 6 Гб, HDD – 150Гб

Для каждой worker-node требуется:
БД  - cpu – 3 ядра, ОЗУ – 12 Гб, HDD – 150Гб
Кэш - cpu – 3 ядра, ОЗУ – 12 Гб, HDD – 6Гб
Фронт - cpu – 1 ядро, ОЗУ – 0,25 Гб, HDD – 5Гб, будет по 1 реплики на каждой ВМ
Бэкэнд - cpu – 10 ядер, ОЗУ – 6 Гб, HDD – 10Гб - , будет по 2 реплики на каждой ВМ

ВМ  для worker-node будем делать одинаковыми по комплектации, и тогда получается, что каждая  ВМ будет тербовать максимальное кол-во ресурсов, если там будет жить все 4 микросервиса. Где бэкэнд в 2-х репликах, т.е. требуется:
5 cpu, 10 Гб ОЗУ  и 60 Гб HDD

Итого:
8 ВМ, из которых 3 master node - cpu – 2 cpu,  2 Гб ОЗУ, HDD – 50Гб
и 5 ВМ под worker node - 5 cpu, 10 Гб ОЗУ ,  HDD - 60 Гб

***
